(function(){"use strict";angular.module("angular-geo-providers.google",[]).provider("angularGeoGoogle",function(){var a,b,c,d=function(){if(c)return c;if("undefined"==typeof google||"undefined"!=typeof google&&"undefined"==typeof google.maps)throw new Error("Google Maps API V3 is required for angulargeo-google to function, please include it");return c=new google.maps.Geocoder},e={geocode:function(b){var c=a.defer();return d().geocode({address:b},function(a,b){if(b===google.maps.GeocoderStatus.OK){var d={};d.length=a.length,d.results=[],d.source="googleV3",d.nativeResponse=a,angular.forEach(a,function(a){var b={address:{},geometry:{coords:{latitude:a.geometry.location.lat(),longitude:a.geometry.location.lng()},viewPort:{southWest:{latitude:a.geometry.viewport.getSouthWest().lat(),longitude:a.geometry.viewport.getSouthWest().lng()},northEast:{latitude:a.geometry.viewport.getNorthEast().lat(),longitude:a.geometry.viewport.getNorthEast().lng()}}}};angular.forEach(a.address_components,function(a){switch(a.types[0]){case"street_number":b.address.street_number=a.long_name;break;case"route":b.address.street=a.long_name;break;case"locality":b.address.locality=a.long_name;break;case"administrative_area_level_2":b.address.adminDistrict2=a.long_name;break;case"administrative_area_level_1":b.address.adminDistrict1=a.long_name;break;case"country":b.address.country=a.long_name;break;case"postal_code":b.address.postalCode=a.long_name}}),b.address.full=a.formatted_address,d.results.push(b)}),c.resolve(d)}else b===google.maps.GeocoderStatus.ZERO_RESULTS?c.resolve(null):b===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?c.reject("OVER_LIMIT"):(b===google.maps.GeocoderStatus.REQUEST_DENIED||b===google.maps.GeocoderStatus.INVALID_REQUEST)&&c.reject("FAILED")}),c.promise},reverseGeocode:function(b){var c=a.defer();return d().geocode({latLng:new google.maps.LatLng(b.latitude,b.longitude)},function(a,b){b===google.maps.GeocoderStatus.OK?c.resolve(a):b===google.maps.GeocoderStatus.ZERO_RESULTS?c.resolve(null):b===google.maps.GeocoderStatus.OVER_QUERY_LIMIT?c.reject("OVER_LIMIT"):(b===google.maps.GeocoderStatus.REQUEST_DENIED||b===google.maps.GeocoderStatus.INVALID_REQUEST)&&c.reject("FAILED")}),c.promise}};return{name:"angularGeoGoogle",config:function(){},$get:function(c,d){return a=d,b=c,e}}})}).call(this);